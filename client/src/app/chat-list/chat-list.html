<div class="min-h-screen bg-[#f6efe6] pt-10 pb-32 px-6">
  <div class="max-w-3xl mx-auto">
    
    <div class="flex items-center justify-between mb-8 px-2">
      <h3 class="text-3xl font-serif tracking-tight text-[#3f3934]">
        Messages
      </h3>
      <div class="bg-[#3f3934] text-white text-[10px] font-bold px-3 py-1 rounded-full tracking-widest uppercase">
        {{ chats().length }} Active
      </div>
    </div>

    @if (chats().length === 0) {
      <div class="flex flex-col items-center justify-center py-32 bg-white/50 rounded-[2.5rem] border border-dashed border-[#d8cfc5]">
  <div class="text-4xl mb-4">✉️</div>
  <p class="text-[#a89e94] font-serif italic text-lg">No conversations yet...</p>
  
  <button (click)="goToDiscover()" class="mt-4 text-[#3f3934] text-xs font-bold tracking-widest border-b border-[#3f3934] pb-1 hover:text-[#524a44]">
    START DISCOVERING
  </button>
</div>
    } @else {

      <div class="space-y-4">
        @for (c of chats(); track c.userId) {

          <div
            class="group flex items-center gap-4 p-5 bg-white rounded-[1.8rem] border border-transparent hover:border-[#d8cfc5] shadow-sm hover:shadow-md transition-all duration-300 cursor-pointer"
            (click)="openChat(c.userId)"
          >

            <div class="relative">
              <img
                *ngIf="c.imageUrl"
                [src]="API + c.imageUrl"
                class="w-16 h-16 rounded-2xl object-cover shadow-sm group-hover:scale-105 transition-transform duration-300"
              />
              <div class="absolute -bottom-1 -right-1 w-4 h-4 bg-green-500 border-4 border-white rounded-full"></div>
            </div>

            <div class="flex-1 min-w-0">
              <div class="flex justify-between items-baseline mb-1">
                <h4 class="text-lg font-serif text-[#3f3934] truncate pr-4">
                  {{ c.name }}
                </h4>
                <span class="text-[10px] font-bold text-[#a89e94] uppercase tracking-tighter shrink-0">
                  {{ c.lastMessageAt | date:'shortTime' }}
                </span>
              </div>

              <div class="flex justify-between items-center">
                <p class="text-sm text-[#6a635d] truncate max-w-[80%] leading-relaxed">
                  {{ c.lastMessage || 'Sent a photo' }}
                </p>
                
                @if (true) { 
                  <div class="h-2 w-2 bg-[#3f3934] rounded-full"></div>
                }
              </div>
            </div>

          </div>

        }
      </div>

    }
  </div>
</div>